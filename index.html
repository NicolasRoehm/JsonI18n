<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="JsonI18n : Simple PHP internationalization library using JSON data" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>JsonI18n</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/RinkAttendant6/JsonI18n">View on GitHub</a>

          <h1 id="project_title">JsonI18n</h1>
          <h2 id="project_tagline">Simple PHP internationalization library using JSON data</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/RinkAttendant6/JsonI18n/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/RinkAttendant6/JsonI18n/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h2>
<a name="installation" class="anchor" href="#installation"><span class="octicon octicon-link"></span></a>Installation</h2>

<h3>
<a name="using-composer" class="anchor" href="#using-composer"><span class="octicon octicon-link"></span></a>Using Composer?</h3>

<p>JsonI18n is available through the <a href="https://packagist.org/packages/rinkattendant6/json-i18n">Packagist</a> repository.</p>

<p>Add this dependency to your composer.phar file:</p>

<div class="highlight highlight-json"><pre><span class="s2">"require"</span><span class="err">:</span> <span class="p">{</span>
    <span class="nt">"rinkattendant6/json-i18n"</span><span class="p">:</span> <span class="s2">"dev-master"</span>
<span class="p">}</span>
</pre></div>

<h3>
<a name="not-using-composer" class="anchor" href="#not-using-composer"><span class="octicon octicon-link"></span></a>Not using Composer?</h3>

<p>Perhaps you should look into it for your next project. For now, download the tarball and extract the JsonI18n.php file into your project.</p>

<h2>
<a name="usage" class="anchor" href="#usage"><span class="octicon octicon-link"></span></a>Usage</h2>

<h3>
<a name="load-the-translations" class="anchor" href="#load-the-translations"><span class="octicon octicon-link"></span></a>Load the translations</h3>

<p>Instantiate the <code>JsonI18n</code> class with a default language and call the <code>addResource</code> method of the class with the path of the translation file:</p>

<div class="highlight highlight-php"><pre><span class="nv">$jsoni18n</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">JsonI18n</span><span class="p">(</span><span class="s1">'en-CA'</span><span class="p">);</span>
<span class="nv">$jsoni18n</span><span class="o">-&gt;</span><span class="na">addResource</span><span class="p">(</span><span class="s1">'home.json'</span><span class="p">);</span>
<span class="nv">$jsoni18n</span><span class="o">-&gt;</span><span class="na">addResource</span><span class="p">(</span><span class="s1">'menu.json'</span><span class="p">);</span> <span class="c1">// another file</span>
</pre></div>

<p>Loading a file with keys that already exist will overwrite the values of existing keys.</p>

<h3>
<a name="use-the-translations" class="anchor" href="#use-the-translations"><span class="octicon octicon-link"></span></a>Use the translations</h3>

<h4>
<a name="print-echo-it-out" class="anchor" href="#print-echo-it-out"><span class="octicon octicon-link"></span></a>Print (echo) it out</h4>

<div class="highlight highlight-php"><pre><span class="nv">$jsoni18n</span><span class="o">-&gt;</span><span class="na">_e</span><span class="p">(</span><span class="s1">'YOUR KEY HERE'</span><span class="p">);</span>
</pre></div>

<h4>
<a name="return-it" class="anchor" href="#return-it"><span class="octicon octicon-link"></span></a>Return it</h4>

<p>Returning the localized text is useful if you wish to concatenate it or use it in another function:</p>

<div class="highlight highlight-php"><pre><span class="nv">$jsoni18n</span><span class="o">-&gt;</span><span class="na">__</span><span class="p">(</span><span class="s1">'YOUR KEY HERE'</span><span class="p">);</span>
<span class="c1">// For instance, you can do string manipulation to the text:</span>
<span class="k">echo</span> <span class="nx">substr</span><span class="p">(</span><span class="nv">$jsoni18n</span><span class="o">-&gt;</span><span class="na">__</span><span class="p">(</span><span class="s1">'buttonText'</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
<span class="k">echo</span> <span class="nx">strtoupper</span><span class="p">(</span><span class="nv">$jsoni18n</span><span class="o">-&gt;</span><span class="na">__</span><span class="p">(</span><span class="s1">'companySlogan'</span><span class="p">));</span>
</pre></div>

<h4>
<a name="text-with-parameters" class="anchor" href="#text-with-parameters"><span class="octicon octicon-link"></span></a>Text with parameters</h4>

<p>Sometimes you will need to use variables within a string. Splitting up the string becomes a messy process and your translators will despise you for it because the context is lost.</p>

<p>PHP's <a href="https://www.php.net/manual/en/function.sprintf.php"><code>sprintf</code></a> function allows variables to be substituted into strings, so for instance you could write:</p>

<pre><code>...
"busFare": "The fare for a regular bus is %.2f dollars.",
"stationStatus": "Right now, %d buses are active at %s station."
</code></pre>

<p>These strings are called <em>formatted</em> strings. To process these in JsonI18n, you can use the <code>_f</code> and <code>_ef</code> methods:</p>

<div class="highlight highlight-php"><pre><span class="nv">$jsoni18n</span><span class="o">-&gt;</span><span class="na">_ef</span><span class="p">(</span><span class="s1">'busFare'</span><span class="p">,</span> <span class="mf">3.40</span><span class="p">);</span> <span class="c1">// The fare for a regular bus is 3.40 dollars.</span>
<span class="nv">$jsoni18n</span><span class="o">-&gt;</span><span class="na">_ef</span><span class="p">(</span><span class="s1">'stationStatus'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="s1">'Central'</span><span class="p">));</span> <span class="c1">// Right now, 5 buses are active at Central station.</span>
</pre></div>

<h4>
<a name="in-all-the-languages" class="anchor" href="#in-all-the-languages"><span class="octicon octicon-link"></span></a>In all the languages!</h4>

<p>Remember the language you instantiated the class with? That's the language you'll be getting unless you explicitly specify the output language as the last parameter of these methods:</p>

<div class="highlight highlight-php"><pre><span class="nv">$jsoni18n</span><span class="o">-&gt;</span><span class="na">_ef</span><span class="p">(</span><span class="s1">'busFare'</span><span class="p">,</span> <span class="mf">3.40</span><span class="p">,</span> <span class="s1">'fr-CA'</span><span class="p">);</span> <span class="c1">// Le tarif pour l'autobus est $3.40</span>
</pre></div>

<p>This allows you to print the text out in <strong>ALL THE LANGUAGES</strong> (provided that you have the translations of course).</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">JsonI18n maintained by <a href="https://github.com/RinkAttendant6">RinkAttendant6</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
